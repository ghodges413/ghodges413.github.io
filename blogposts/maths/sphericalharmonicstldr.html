<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Fourier TLDR</title>
<meta name="keywords" content="Spherical Harmonics, Cubemap Integration Over Sphere" />
<meta name="description" content="A blog of math and code" />
<link href="../../tooplate_style.css" rel="stylesheet" type="text/css" />
<!--   Load MathJax javascript   -->
<!--
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async>
</script>
-->
<script type="text/javascript" async
src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML" async>
</script>
<!--   Free Website Template by t o o p l a t e . c o m   -->
</head>
<body>

<div id="tooplate_header_wrapper">
	<div id="tooplate_header">

        <div id="tooplate_menu">
            <ul>
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../../about.html">About</a></li>
                <li><a href="https://twitter.com/ghodges_dev" title="Follow me on Twitter.">Twitter</a></li>
            </ul>    	
        </div> <!-- end of tooplate_menu -->

<!--
    	<div id="site_title"><h1><a rel="nofollow" href="http://www.tooplate.com">Free Website Templates</a></h1></div>
-->    
        <div id="site_title"><h1>Spherical Harmonics TL;DR</h1></div>
        
    </div> <!-- end of header -->
</div> <!-- end of header wrapper -->
<div id="tooplate_main_wrapper">
    <div id="tooplate_top"></div>
	
    <div id="tooplate_main">
        <div id="tooplate_content_wrapper">
		
        	<div id="tc_top"></div>
			
        	<div id="tooplate_content">
                <div class="post_box">
				
                	<div class="post_header">
                    	<p class="date">
                        	<span>2018/12/22</span>
                        </p>
                        <!--
                            <p class="meta">
                                Posted in <a href="#">Internet</a>, <a href="#">Marketing</a> by <a href="#">Jenave</a>
                            </p>
                        -->
                        <div class="cleaner"></div>
					</div>
                
                    <h2>TL;DR</h2>
                    <p>
                        TODO: Fill me out
                    </p>

                    <h2>Application</h2>
                    <p>
                        TODO: Fill me out
                    </p>

                    <h2>Derivation</h2>
                    <p>
                        Laplace's equation is stated as
                        $$\nabla^2 f = 0$$
                        and expanded out in three dimensional cartesian coordinates
                        $$\frac{ \partial^2 f }{ \partial x^2 } + \frac{ \partial^2 f }{ \partial y^2 } + \frac{ \partial^2 f }{ \partial z^2 } = 0$$

                        Now, what is the equivalent of this equation in spherical coordinates?  Well, given the fact that spherical coordinates is defined
                        with the relationship that

                        $$x = r \cos( \phi ) \sin( \theta )$$
                        $$y = r \sin( \phi ) \sin( \theta )$$
                        $$z = r \cos( \theta )$$

                        And the chain rule can be simply stated

                        $$ \frac{ \partial }{ \partial t } f( g ( t ) ) = \frac{ \partial f }{ \partial g } \frac{ \partial g }{ \partial t }$$

                        And therefore we can write out the chain rule in matrix form as

                        $$
                        \begin{bmatrix}
                            \frac{ \partial f }{ \partial r }\\
                            \frac{ \partial f }{ \partial \phi }\\
                            \frac{ \partial f }{ \partial \theta }\\
                        \end{bmatrix}
                        = J \cdot
                        \begin{bmatrix}
                            \frac{ \partial f }{ \partial x }\\
                            \frac{ \partial f }{ \partial y }\\
                            \frac{ \partial f }{ \partial z }\\
                        \end{bmatrix}
                        $$
                        
                        Where J is the <a href="https://en.wikipedia.org/wiki/Jacobian_matrix_and_determinant" title="Jacobian Matrix">Jacobian</a>
                        (a matrix that defines changes between coordinate systems), and is defined as:

                        $$
                        J = 
                        \begin{bmatrix}
                            \frac{ \partial x }{ \partial r } & \frac{ \partial y }{ \partial r } & \frac{ \partial z }{ \partial r }\\
                            \frac{ \partial x }{ \partial \phi } & \frac{ \partial y }{ \partial \phi } & \frac{ \partial z }{ \partial \phi }\\
                            \frac{ \partial x }{ \partial \theta } & \frac{ \partial y }{ \partial \theta } & \frac{ \partial  }{ \partial \theta }\\
                        \end{bmatrix}
                        $$

                        And therefore we can also write
                        $$
                        \begin{bmatrix}
                            \frac{ \partial f }{ \partial x }\\
                            \frac{ \partial f }{ \partial y }\\
                            \frac{ \partial f }{ \partial z }\\
                        \end{bmatrix}
                        = J^{-1} \cdot
                        \begin{bmatrix}
                            \frac{ \partial f }{ \partial r }\\
                            \frac{ \partial f }{ \partial \phi }\\
                            \frac{ \partial f }{ \partial \theta }\\
                        \end{bmatrix}
                        $$

                        Where \( J^{-1} \) is the inverse of the Jacobian.  And if we manually work all this out, then we will end up with:

                        $$
                        \begin{bmatrix}
                            \frac{ \partial f }{ \partial x }\\
                            \frac{ \partial f }{ \partial y }\\
                            \frac{ \partial f }{ \partial z }\\
                        \end{bmatrix}

                        =

                        \begin{bmatrix}
                            \cos( \phi )\sin( \theta ) &  -\frac{ \sin( \phi ) }{ r \sin( \theta ) } & \frac{ \cos( \phi )\cos( \theta ) }{ r }\\
                            \sin( \phi )\sin( \theta ) &  \frac{ \cos( \phi ) }{ r \sin( \theta ) } & \frac{ \sin( \phi )\cos( \theta ) }{ r }\\
                            \cos( \theta ) & 0 & -\frac{ \sin( \theta ) }{ r }
                        \end{bmatrix}

                        \cdot

                        \begin{bmatrix}
                            \frac{ \partial f }{ \partial r }\\
                            \frac{ \partial f }{ \partial \phi }\\
                            \frac{ \partial f }{ \partial \theta }\\
                        \end{bmatrix}
                        $$

                        And if we now plug all this into Laplace's equation, then we obtain the equation in spherical coordinates:

                        $$
                        \nabla^2 f = 
                        \frac{ 1 }{ r^2 } \frac{ \partial }{ \partial r}( r^2 \frac{ \partial f }{ \partial r } ) +
                        \frac{ 1 }{ r^2 \sin( \theta ) } \frac{ \partial }{ \partial \theta }( \sin( \theta ) \frac{ \partial f }{ \partial \theta } ) +
                        \frac{ 1 }{ r^2 \sin^2( \theta ) } \frac{ \partial^2 f }{ \partial \phi^2 }
                        = 0
                        $$

                        We can easily see that we can factor out the \( \frac{ 1 }{ r^2 } \), so we'll simply multiply through by \( r^2 \) and get

                        $$
                        \frac{ \partial }{ \partial r}( r^2 \frac{ \partial f }{ \partial r } ) +
                        \frac{ 1 }{ \sin( \theta ) } \frac{ \partial }{ \partial \theta }( \sin( \theta ) \frac{ \partial f }{ \partial \theta } ) +
                        \frac{ 1 }{ \sin^2( \theta ) } \frac{ \partial^2 f }{ \partial \phi^2 }
                        = 0
                        $$

                        Now, with a little re-organization, we might be able to enlighten ourselves.  And so with malice of forethought we get:

                        $$
                        -\frac{ \partial }{ \partial r}( r^2 \frac{ \partial f }{ \partial r } ) =
                        \frac{ 1 }{ \sin( \theta ) } \frac{ \partial }{ \partial \theta }( \sin( \theta ) \frac{ \partial f }{ \partial \theta } ) +
                        \frac{ 1 }{ \sin^2( \theta ) } \frac{ \partial^2 f }{ \partial \phi^2 }
                        $$

                        This next bit takes a little bit of thought.  So bare with me here.  First, we have to assume that \( f( r, \phi, \theta ) \) is
                        a separable function that can be written as (mathematicians sometimes do hand wavy shit too):

                        $$ f( r, \phi, \theta ) = R( r ) \Phi( \phi ) \Theta( \theta ) $$
                        
                        Since \( r, \phi, \theta \) are all independent variables,
                        and the left hand side is only dependent on \( r \) and the right hand side is only dependent on \( \phi \), and \( \theta \) then this equation
                        is only correct if the left hand side is equal to a constant and the right hand side also equal to the same constant, implying that:

                        $$
                        -\frac{ \partial }{ \partial r}( r^2 \frac{ \partial R }{ \partial r } ) =
                        \frac{ 1 }{ \sin( \theta ) } \frac{ \partial }{ \partial \theta }( \sin( \theta ) \frac{ \partial \Theta }{ \partial \theta } ) +
                        \frac{ 1 }{ \sin^2( \theta ) } \frac{ \partial^2 \Phi }{ \partial \phi^2 } =
                        \lambda
                        $$

                        So now we can see how these turn into ordinary differential equations (ODEs).  And this means we can now leverage all the work that any
                        student of differential equations has already performed.  Let's start with \( R( r ) \), that seems like a simple one:

                        $$
                        \frac{ \partial }{ \partial r}( r^2 \frac{ \partial R }{ \partial r } ) = \lambda\\
                        => \frac{ \partial^2 R }{ \partial r^2 } + 2 r \frac{ \partial R }{ \partial r } = \lambda \\
                        $$

                        And we know from ordinary differential equations (ODEs) that the solution to this equation is:

                    </p>
                    

                    <div class="cleaner"></div>
                    
                    
                    


                    <h2>Recommended Reading</h2>
                    <p>Fourier Series (Dover Books on Mathematics) by Georgi P. Tolstov (ISBN-13: 978-0486633176)</p>
                    <p></p>
                    <a href="http://www.dspguide.com/pdfbook.htm">Free online DSP book</a>
                    <p></p>
                    <a href="https://www.youtube.com/watch?v=hVOA8VtKLgk&list=PLuh62Q4Sv7BUSzx5Jr8Wrxxn-U10qG1et">DSP video lectures</a>
                    <div class="cleaner"></div>
                    
                </div>
            </div>
            <div id="tc_bottom"></div>
        </div> <!-- end of content wrapper -->
        <!--
        <div id="tooplate_sidebar_wrapper">
            <div id="tooplate_sidebar_top"></div>
			
            <div id="tooplate_sidebar">
                <div class="ads_250x250">
                    <a href="#"><img src="../../images/Fourier_transform_time_and_frequency_domains_(small).gif" alt="Fourier Transform by Lucas Barbosa" style="width:250px;height:250px;"></a>
                </div>                
                <div class="sb_box">
                    <h3>Categories</h3>
                    <ul class="tooplate_list">
                        <li><a href="#">TODO: Fill me out</a></li>
                    </ul>
                </div>
                <div class="cleaner"></div>
            </div>
			
            <div id="tooplate_sidebar_bottom"></div>
        </div> --> <!-- end of sidebar wrapper -->
        
        <div class="cleaner"></div>
    </div>
    
    <div id="tooplate_bottom"></div>
</div> <!-- end of main wrapper -->

<div id="tooplate_footer">

    <a href="#">Fine!  I'll have a footer.  Everyone else does!</a>

</div>

</body>
</html>